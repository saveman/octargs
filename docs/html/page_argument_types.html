<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>octargs-doxygen: Argument types</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">octargs-doxygen
   &#160;<span id="projectnumber">0.4.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Argument types </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#section_help_simple">Simple usage</a></li>
<li class="level1"><a href="#section_help_switches">Switch arguments</a></li>
<li class="level1"><a href="#section_help_exclusive">Exclusive arguments</a></li>
<li class="level1"><a href="#section_help_valued">Valued arguments</a></li>
<li class="level1"><a href="#section_help_positional">Positional arguments</a></li>
<li class="level1"><a href="#section_help_subparsers">Sub-parsers</a></li>
</ul>
</div>
<div class="textblock"><p>Examples showing different argument types and how to use them</p>
<h1><a class="anchor" id="section_help_simple"></a>
Simple usage</h1>
<p>To just consume all input the arguments and collect them together a positional argument with unlimited maximum count could be used.</p>
<div class="fragment"><div class="line">    arg_parser.add_positional(<span class="stringliteral">&quot;files&quot;</span>).set_max_count_unlimited();</div></div><!-- fragment --><p> Full code:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;octargs/octargs.hpp&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="keyword">using namespace </span><a class="code" href="namespaceoct_1_1args.html">oct::args</a>;</div><div class="line"></div><div class="line">    <a class="code" href="classoct_1_1args_1_1basic__parser.html">parser</a> arg_parser;</div><div class="line">    arg_parser.add_positional(<span class="stringliteral">&quot;files&quot;</span>).set_max_count_unlimited();</div><div class="line"></div><div class="line">    <span class="keyword">auto</span> <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a> = arg_parser.parse(argc, argv);</div><div class="line"></div><div class="line">    <span class="keyword">auto</span> files = <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a>.get_values(<span class="stringliteral">&quot;files&quot;</span>);</div><div class="line"></div><div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; file : files)</div><div class="line">    {</div><div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;File given: &quot;</span> &lt;&lt; file &lt;&lt; std::endl;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="section_help_switches"></a>
Switch arguments</h1>
<p>Switch arguments are arguments without values. They are normally used to enable or disable features (like verbose output or test mode).</p>
<dl class="section note"><dt>Note</dt><dd>Switch arguments have implicit 'bool' type.</dd></dl>
<div class="fragment"><div class="line">    arg_parser.add_switch(<span class="stringliteral">&quot;--verbose&quot;</span>);</div><div class="line">    arg_parser.add_switch(<span class="stringliteral">&quot;--dry-run&quot;</span>);</div></div><!-- fragment --><p> Full code:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;octargs/octargs.hpp&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="keyword">using namespace </span><a class="code" href="namespaceoct_1_1args.html">oct::args</a>;</div><div class="line"></div><div class="line">    <a class="code" href="classoct_1_1args_1_1basic__parser.html">parser</a> arg_parser;</div><div class="line">    arg_parser.add_switch(<span class="stringliteral">&quot;--verbose&quot;</span>);</div><div class="line">    arg_parser.add_switch(<span class="stringliteral">&quot;--dry-run&quot;</span>);</div><div class="line"></div><div class="line">    <span class="keyword">auto</span> <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a> = arg_parser.parse(argc, argv);</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Verbose?   &quot;</span> &lt;&lt; (<a class="code" href="classoct_1_1args_1_1basic__results.html">results</a>.has_value(<span class="stringliteral">&quot;--verbose&quot;</span>) ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>) &lt;&lt; std::endl;</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Test mode? &quot;</span> &lt;&lt; (<a class="code" href="classoct_1_1args_1_1basic__results.html">results</a>.has_value(<span class="stringliteral">&quot;--dry-run&quot;</span>) ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>) &lt;&lt; std::endl;</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="section_help_exclusive"></a>
Exclusive arguments</h1>
<p>Exclusive arguments are switch arguments that could only be specified alone in the input. The two best examples that are commonly used are: "--help" (print information about application usage) and "--version" (print application version).</p>
<dl class="section note"><dt>Note</dt><dd>Exclusive arguments have implicit 'bool' type.</dd></dl>
<div class="fragment"><div class="line">    arg_parser.add_exclusive({ <span class="stringliteral">&quot;--version&quot;</span> });</div></div><!-- fragment --><p> Full code:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;octargs/octargs.hpp&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="keyword">using namespace </span><a class="code" href="namespaceoct_1_1args.html">oct::args</a>;</div><div class="line"></div><div class="line">    <a class="code" href="classoct_1_1args_1_1basic__parser.html">parser</a> arg_parser;</div><div class="line">    arg_parser.add_switch({ <span class="stringliteral">&quot;--verbose&quot;</span> });</div><div class="line">    arg_parser.add_switch({ <span class="stringliteral">&quot;--dry-run&quot;</span> });</div><div class="line">    arg_parser.add_exclusive({ <span class="stringliteral">&quot;--version&quot;</span> });</div><div class="line"></div><div class="line">    <span class="keyword">auto</span> <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a> = arg_parser.parse(argc, argv);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (<a class="code" href="classoct_1_1args_1_1basic__results.html">results</a>.get_count(<span class="stringliteral">&quot;--version&quot;</span>) &gt; 0)</div><div class="line">    {</div><div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Example 1.0.0&quot;</span> &lt;&lt; std::endl;</div><div class="line">        <span class="keywordflow">return</span> 0;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Verbose?   &quot;</span> &lt;&lt; (<a class="code" href="classoct_1_1args_1_1basic__results.html">results</a>.get_count(<span class="stringliteral">&quot;--verbose&quot;</span>) &gt; 0 ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>) &lt;&lt; std::endl;</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Test mode? &quot;</span> &lt;&lt; (<a class="code" href="classoct_1_1args_1_1basic__results.html">results</a>.get_count(<span class="stringliteral">&quot;--dry-run&quot;</span>) &gt; 0 ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>) &lt;&lt; std::endl;</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="section_help_valued"></a>
Valued arguments</h1>
<p>Valued arguments are specified as a pair "key value" (or key=value). That allows to provide the user a way to parameterize application behavior.</p>
<div class="fragment"><div class="line">    arg_parser.add_valued({ <span class="stringliteral">&quot;--lines&quot;</span> });</div></div><!-- fragment --><p> Full code:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;octargs/octargs.hpp&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="keyword">using namespace </span><a class="code" href="namespaceoct_1_1args.html">oct::args</a>;</div><div class="line"></div><div class="line">    <a class="code" href="classoct_1_1args_1_1basic__parser.html">parser</a> arg_parser;</div><div class="line">    arg_parser.add_valued({ <span class="stringliteral">&quot;--lines&quot;</span> });</div><div class="line">    arg_parser.add_positional(<span class="stringliteral">&quot;files&quot;</span>).set_max_count_unlimited();</div><div class="line"></div><div class="line">    <span class="keyword">auto</span> <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a> = arg_parser.parse(argc, argv);</div><div class="line"></div><div class="line">    std::string default_lines = <span class="stringliteral">&quot;5&quot;</span>;</div><div class="line">    <span class="keywordflow">if</span> (<a class="code" href="classoct_1_1args_1_1basic__results.html">results</a>.get_count(<span class="stringliteral">&quot;--lines&quot;</span>) &gt; 0)</div><div class="line">    {</div><div class="line">        default_lines = <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a>.get_first_value(<span class="stringliteral">&quot;--lines&quot;</span>);</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// TODO application logic</span></div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="section_help_positional"></a>
Positional arguments</h1>
<p>Positional arguments are arguments that are used without specifying the names - they are just assigned to specific positions (ordered) in input values. An example could be "cat" command which defines some switches and then accepts multiple file names and produce concatenated output.</p>
<div class="fragment"><div class="line">    arg_parser.add_positional(<span class="stringliteral">&quot;pattern&quot;</span>).set_max_count(1);</div><div class="line">    arg_parser.add_positional(<span class="stringliteral">&quot;files&quot;</span>).set_max_count_unlimited();</div></div><!-- fragment --><p> Full code:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;octargs/octargs.hpp&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="keyword">using namespace </span><a class="code" href="namespaceoct_1_1args.html">oct::args</a>;</div><div class="line"></div><div class="line">    <a class="code" href="classoct_1_1args_1_1basic__parser.html">parser</a> arg_parser;</div><div class="line">    arg_parser.add_positional(<span class="stringliteral">&quot;pattern&quot;</span>).set_max_count(1);</div><div class="line">    arg_parser.add_positional(<span class="stringliteral">&quot;files&quot;</span>).set_max_count_unlimited();</div><div class="line"></div><div class="line">    <span class="keyword">auto</span> <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a> = arg_parser.parse(argc, argv);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (<a class="code" href="classoct_1_1args_1_1basic__results.html">results</a>.get_count(<span class="stringliteral">&quot;pattern&quot;</span>) == 0)</div><div class="line">    {</div><div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;No pattern specified&quot;</span> &lt;&lt; std::endl;</div><div class="line">        <span class="keywordflow">return</span> 0;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keyword">auto</span> pattern = <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a>.get_first_value(<span class="stringliteral">&quot;pattern&quot;</span>);</div><div class="line">    <span class="keyword">auto</span> files = <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a>.get_values(<span class="stringliteral">&quot;files&quot;</span>);</div><div class="line"></div><div class="line">    <span class="comment">// TODO: search pattern in files</span></div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="section_help_subparsers"></a>
Sub-parsers</h1>
<p>Sometimes the application offers multiple functionalities which are separate from each other. For example the "git": you could add a file to a change set using "git add &lt;paths&gt;" or check current modified that are not yet committed using "git diff", or create a new branch with "git branch &lt;name&gt;".</p>
<p>To allow using such behavior subparsers could be used. Adding subparsers is done in two steps. First a special positional-like argument is defined:</p>
<div class="fragment"><div class="line">    <span class="keyword">auto</span> subparsers = arg_parser.add_subparsers(<span class="stringliteral">&quot;command&quot;</span>);</div></div><!-- fragment --><p> And then the subparsers are added and configured as a standard parsers:</p>
<div class="fragment"><div class="line">    <span class="keyword">auto</span> add_parser = subparsers.add_parser(<span class="stringliteral">&quot;add&quot;</span>);</div><div class="line">    add_parser.add_switch({ <span class="stringliteral">&quot;--recursive&quot;</span> });</div><div class="line">    add_parser.add_positional(<span class="stringliteral">&quot;files&quot;</span>).set_max_count_unlimited();</div><div class="line"></div><div class="line">    <span class="keyword">auto</span> commit_parser = subparsers.add_parser(<span class="stringliteral">&quot;commit&quot;</span>);</div><div class="line">    commit_parser.add_valued({ <span class="stringliteral">&quot;--message&quot;</span> });</div></div><!-- fragment --><p> Full code:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;octargs/octargs.hpp&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="keyword">using namespace </span><a class="code" href="namespaceoct_1_1args.html">oct::args</a>;</div><div class="line"></div><div class="line">    <a class="code" href="classoct_1_1args_1_1basic__parser.html">parser</a> arg_parser;</div><div class="line">    arg_parser.add_switch({ <span class="stringliteral">&quot;--verbose&quot;</span> }); <span class="comment">// common argument</span></div><div class="line"></div><div class="line">    <span class="keyword">auto</span> subparsers = arg_parser.add_subparsers(<span class="stringliteral">&quot;command&quot;</span>);</div><div class="line"></div><div class="line">    <span class="keyword">auto</span> add_parser = subparsers.add_parser(<span class="stringliteral">&quot;add&quot;</span>);</div><div class="line">    add_parser.add_switch({ <span class="stringliteral">&quot;--recursive&quot;</span> });</div><div class="line">    add_parser.add_positional(<span class="stringliteral">&quot;files&quot;</span>).set_max_count_unlimited();</div><div class="line"></div><div class="line">    <span class="keyword">auto</span> commit_parser = subparsers.add_parser(<span class="stringliteral">&quot;commit&quot;</span>);</div><div class="line">    commit_parser.add_valued({ <span class="stringliteral">&quot;--message&quot;</span> });</div><div class="line"></div><div class="line">    <span class="keyword">auto</span> <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a> = arg_parser.parse(argc, argv);</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Command requested: &quot;</span> &lt;&lt; <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a>.get_first_value(<span class="stringliteral">&quot;command&quot;</span>) &lt;&lt; std::endl;</div><div class="line"></div><div class="line">    <span class="comment">// TODO: application logic</span></div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
