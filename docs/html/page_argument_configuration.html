<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>octargs-doxygen: Argument configuration</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">octargs-doxygen
   &#160;<span id="projectnumber">0.4.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Argument configuration </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#section_help_multiname">Multiple names</a></li>
<li class="level1"><a href="#section_help_required">Required value</a></li>
<li class="level1"><a href="#section_help_multivalue">Multiple values</a></li>
<li class="level1"><a href="#section_help_defaults">Default values</a></li>
<li class="level1"><a href="#section_help_allowed">Allowed values</a></li>
<li class="level1"><a href="#section_help_type_std">Value type - Standard types</a></li>
<li class="level1"><a href="#section_help_type_custom">Value type - Custom</a></li>
<li class="level1"><a href="#section_help_type_cast">Results - Get values with conversion</a></li>
</ul>
</div>
<div class="textblock"><p>Examples showing how arguments could be configured</p>
<h1><a class="anchor" id="section_help_multiname"></a>
Multiple names</h1>
<p>Command line application often allows to user multiple names for the same argument to let the user choose: use short names and type less ("-o") or provide meaningful name, especially useful in scripts ("--output").</p>
<p>For switch, valued and exclusive arguments (so these which names are specified when providing command line input) it is possible to provide multiple names.</p>
<div class="fragment"><div class="line">    arg_parser.add_switch({ <span class="stringliteral">&quot;-v&quot;</span>, <span class="stringliteral">&quot;--verbose&quot;</span> }).set_min_count(0).set_max_count(3);</div><div class="line">    arg_parser.add_valued({ <span class="stringliteral">&quot;-n&quot;</span>, <span class="stringliteral">&quot;-l&quot;</span>, <span class="stringliteral">&quot;--lines&quot;</span> }).set_min_count(1);</div></div><!-- fragment --><p> Full code:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;octargs/octargs.hpp&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="keyword">using namespace </span><a class="code" href="namespaceoct_1_1args.html">oct::args</a>;</div><div class="line"></div><div class="line">    <a class="code" href="classoct_1_1args_1_1basic__parser.html">parser</a> arg_parser;</div><div class="line"></div><div class="line">    arg_parser.add_switch({ <span class="stringliteral">&quot;-v&quot;</span>, <span class="stringliteral">&quot;--verbose&quot;</span> }).set_min_count(0).set_max_count(3);</div><div class="line">    arg_parser.add_valued({ <span class="stringliteral">&quot;-n&quot;</span>, <span class="stringliteral">&quot;-l&quot;</span>, <span class="stringliteral">&quot;--lines&quot;</span> }).set_min_count(1);</div><div class="line">    arg_parser.add_positional(<span class="stringliteral">&quot;files&quot;</span>).set_max_count_unlimited();</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        <span class="keyword">auto</span> <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a> = arg_parser.parse(argc, argv);</div><div class="line"></div><div class="line">        <span class="keyword">auto</span> verbosity_level = <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a>.get_count(<span class="stringliteral">&quot;--verbose&quot;</span>);</div><div class="line">        <span class="keyword">auto</span> lines = <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a>.get_first_value(<span class="stringliteral">&quot;--lines&quot;</span>);</div><div class="line">        <span class="keyword">auto</span> files = <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a>.get_values(<span class="stringliteral">&quot;files&quot;</span>);</div><div class="line"></div><div class="line">        <span class="comment">// TODO: application logic</span></div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception&amp; e)</div><div class="line">    {</div><div class="line">        std::cerr &lt;&lt; <span class="stringliteral">&quot;Error occurred: &quot;</span> &lt;&lt; e.what() &lt;&lt; std::endl;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="section_help_required"></a>
Required value</h1>
<p>Switch, valued and positional arguments allow to configure how many times the argument could be given in the input. There are two values that could be set: minimum and maximum count.</p>
<p>To set value as required (must be provided by the user) set the minimum count to a value greater than zero (default count is 0 making the argument optional).</p>
<div class="fragment"><div class="line">    arg_parser.add_valued({ <span class="stringliteral">&quot;--lines&quot;</span> }).set_min_count(1);</div></div><!-- fragment --><p> Full code:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;octargs/octargs.hpp&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="keyword">using namespace </span><a class="code" href="namespaceoct_1_1args.html">oct::args</a>;</div><div class="line"></div><div class="line">    <a class="code" href="classoct_1_1args_1_1basic__parser.html">parser</a> arg_parser;</div><div class="line">    arg_parser.add_valued({ <span class="stringliteral">&quot;--lines&quot;</span> }).set_min_count(1);</div><div class="line">    arg_parser.add_positional(<span class="stringliteral">&quot;files&quot;</span>).set_max_count_unlimited();</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        <span class="keyword">auto</span> <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a> = arg_parser.parse(argc, argv);</div><div class="line"></div><div class="line">        <span class="keyword">auto</span> lines = <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a>.get_first_value(<span class="stringliteral">&quot;--lines&quot;</span>);</div><div class="line">        <span class="keyword">auto</span> files = <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a>.get_values(<span class="stringliteral">&quot;files&quot;</span>);</div><div class="line"></div><div class="line">        <span class="comment">// TODO: application logic</span></div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception&amp; e)</div><div class="line">    {</div><div class="line">        std::cerr &lt;&lt; <span class="stringliteral">&quot;Error occurred: &quot;</span> &lt;&lt; e.what() &lt;&lt; std::endl;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="section_help_multivalue"></a>
Multiple values</h1>
<p>The argument could also accept being given more than once in the input. That could be done by specifying the maximum count - either to a integer value or an "unlimited" count.</p>
<div class="fragment"><div class="line">    arg_parser.add_switch({ <span class="stringliteral">&quot;--verbose&quot;</span> }).set_min_count(0).set_max_count(3);</div></div><!-- fragment --><p> Full code:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;octargs/octargs.hpp&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="keyword">using namespace </span><a class="code" href="namespaceoct_1_1args.html">oct::args</a>;</div><div class="line"></div><div class="line">    <a class="code" href="classoct_1_1args_1_1basic__parser.html">parser</a> arg_parser;</div><div class="line">    arg_parser.add_switch({ <span class="stringliteral">&quot;--verbose&quot;</span> }).set_min_count(0).set_max_count(3);</div><div class="line">    arg_parser.add_valued({ <span class="stringliteral">&quot;--lines&quot;</span> }).set_min_count(1);</div><div class="line">    arg_parser.add_positional(<span class="stringliteral">&quot;files&quot;</span>).set_max_count_unlimited();</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        <span class="keyword">auto</span> <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a> = arg_parser.parse(argc, argv);</div><div class="line"></div><div class="line">        <span class="keyword">auto</span> verbosity_level = <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a>.get_count(<span class="stringliteral">&quot;--verbose&quot;</span>);</div><div class="line">        <span class="keyword">auto</span> lines = <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a>.get_first_value(<span class="stringliteral">&quot;--lines&quot;</span>);</div><div class="line">        <span class="keyword">auto</span> files = <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a>.get_values(<span class="stringliteral">&quot;files&quot;</span>);</div><div class="line"></div><div class="line">        <span class="comment">// TODO: application logic</span></div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception&amp; e)</div><div class="line">    {</div><div class="line">        std::cerr &lt;&lt; <span class="stringliteral">&quot;Error occurred: &quot;</span> &lt;&lt; e.what() &lt;&lt; std::endl;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="section_help_defaults"></a>
Default values</h1>
<p>Sometimes, to simplify application logic, it is good to provide default values for the argument if nothing is provided by the user. For example for a "tail" command there will be a built-in initial limit of 10 lines of output to be printed.</p>
<div class="fragment"><div class="line">    arg_parser.add_valued({ <span class="stringliteral">&quot;--lines&quot;</span> }).set_min_count(1).set_default_value(<span class="stringliteral">&quot;1&quot;</span>);</div></div><!-- fragment --><p> Full code:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;octargs/octargs.hpp&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="keyword">using namespace </span><a class="code" href="namespaceoct_1_1args.html">oct::args</a>;</div><div class="line"></div><div class="line">    <a class="code" href="classoct_1_1args_1_1basic__parser.html">parser</a> arg_parser;</div><div class="line">    arg_parser.add_valued({ <span class="stringliteral">&quot;--lines&quot;</span> }).set_min_count(1).set_default_value(<span class="stringliteral">&quot;1&quot;</span>);</div><div class="line">    arg_parser.add_switch({ <span class="stringliteral">&quot;--verbose&quot;</span> }).set_min_count(0).set_max_count(3);</div><div class="line">    arg_parser.add_positional(<span class="stringliteral">&quot;files&quot;</span>).set_max_count_unlimited();</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        <span class="keyword">auto</span> <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a> = arg_parser.parse(argc, argv);</div><div class="line"></div><div class="line">        <span class="keyword">auto</span> verbosity_level = <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a>.get_count(<span class="stringliteral">&quot;--verbose&quot;</span>);</div><div class="line">        <span class="keyword">auto</span> lines = <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a>.get_first_value(<span class="stringliteral">&quot;--lines&quot;</span>);</div><div class="line">        <span class="keyword">auto</span> files = <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a>.get_values(<span class="stringliteral">&quot;files&quot;</span>);</div><div class="line"></div><div class="line">        <span class="comment">// TODO: application logic</span></div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception&amp; e)</div><div class="line">    {</div><div class="line">        std::cerr &lt;&lt; <span class="stringliteral">&quot;Error occurred: &quot;</span> &lt;&lt; e.what() &lt;&lt; std::endl;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="section_help_allowed"></a>
Allowed values</h1>
<p>For some arguments it may be useful to limit the set of values that are valid in the input. For example for sort application we would like to have order which is either "asc" (ascending) or "desc" (descending).</p>
<div class="fragment"><div class="line">    arg_parser.add_valued({ <span class="stringliteral">&quot;--order&quot;</span> })</div><div class="line">        .set_min_count(1)</div><div class="line">        .set_allowed_values({ <span class="stringliteral">&quot;asc&quot;</span>, <span class="stringliteral">&quot;desc&quot;</span> })</div><div class="line">        .set_default_value(<span class="stringliteral">&quot;asc&quot;</span>);</div></div><!-- fragment --><p> Full code:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;octargs/octargs.hpp&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="keyword">using namespace </span><a class="code" href="namespaceoct_1_1args.html">oct::args</a>;</div><div class="line"></div><div class="line">    <a class="code" href="classoct_1_1args_1_1basic__parser.html">parser</a> arg_parser;</div><div class="line">    arg_parser.add_valued({ <span class="stringliteral">&quot;--order&quot;</span> })</div><div class="line">        .set_min_count(1)</div><div class="line">        .set_allowed_values({ <span class="stringliteral">&quot;asc&quot;</span>, <span class="stringliteral">&quot;desc&quot;</span> })</div><div class="line">        .set_default_value(<span class="stringliteral">&quot;asc&quot;</span>);</div><div class="line">    arg_parser.add_positional(<span class="stringliteral">&quot;files&quot;</span>).set_max_count_unlimited();</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        <span class="keyword">auto</span> <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a> = arg_parser.parse(argc, argv);</div><div class="line"></div><div class="line">        <span class="keyword">auto</span> order = <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a>.get_first_value(<span class="stringliteral">&quot;--order&quot;</span>);</div><div class="line">        <span class="keyword">auto</span> files = <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a>.get_values(<span class="stringliteral">&quot;files&quot;</span>);</div><div class="line"></div><div class="line">        <span class="comment">// TODO: application logic</span></div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception&amp; e)</div><div class="line">    {</div><div class="line">        std::cerr &lt;&lt; <span class="stringliteral">&quot;Error occurred: &quot;</span> &lt;&lt; e.what() &lt;&lt; std::endl;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="section_help_type_std"></a>
Value type - Standard types</h1>
<p>As the parsed results would be used by C++ code there is a possibility to set the type of argument values. That attaches to the argument a type handler that by default performs value conversion to the defined type. There is a set of predefined converters but a custom one could also be used.</p>
<div class="fragment"><div class="line">    arg_parser.add_valued({ <span class="stringliteral">&quot;--lines&quot;</span> }).set_min_count(1).set_default_value(<span class="stringliteral">&quot;1&quot;</span>).set_type&lt;<span class="keywordtype">int</span>&gt;();</div></div><!-- fragment --><p> Full code:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;octargs/octargs.hpp&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="keyword">using namespace </span><a class="code" href="namespaceoct_1_1args.html">oct::args</a>;</div><div class="line"></div><div class="line">    <a class="code" href="classoct_1_1args_1_1basic__parser.html">parser</a> arg_parser;</div><div class="line">    arg_parser.add_valued({ <span class="stringliteral">&quot;--lines&quot;</span> }).set_min_count(1).set_default_value(<span class="stringliteral">&quot;1&quot;</span>).set_type&lt;<span class="keywordtype">int</span>&gt;();</div><div class="line">    arg_parser.add_positional(<span class="stringliteral">&quot;files&quot;</span>).set_max_count_unlimited();</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        <span class="keyword">auto</span> <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a> = arg_parser.parse(argc, argv);</div><div class="line"></div><div class="line">        <span class="keyword">auto</span> lines = <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a>.get_first_value(<span class="stringliteral">&quot;--lines&quot;</span>);</div><div class="line">        <span class="keyword">auto</span> files = <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a>.get_values(<span class="stringliteral">&quot;files&quot;</span>);</div><div class="line"></div><div class="line">        <span class="comment">// TODO: application logic</span></div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception&amp; e)</div><div class="line">    {</div><div class="line">        std::cerr &lt;&lt; <span class="stringliteral">&quot;Error occurred: &quot;</span> &lt;&lt; e.what() &lt;&lt; std::endl;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="section_help_type_custom"></a>
Value type - Custom</h1>
<p>Using custom types require to provide the data type and a converter functor type. Given converter will be used to change the string representation to requested data type.</p>
<p>First the type should be defined:</p>
<div class="fragment"><div class="line">    <span class="keyword">enum class</span> order</div><div class="line">    {</div><div class="line">        ascending,</div><div class="line">        descending</div><div class="line">    };</div><div class="line">    <span class="keyword">struct </span>order_converter</div><div class="line">    {</div><div class="line">        order operator()(<span class="keyword">const</span> std::string&amp; value)<span class="keyword"> const</span></div><div class="line"><span class="keyword">        </span>{</div><div class="line">            <span class="keywordflow">if</span> (value == <span class="stringliteral">&quot;asc&quot;</span>)</div><div class="line">                <span class="keywordflow">return</span> order::ascending;</div><div class="line">            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (value == <span class="stringliteral">&quot;desc&quot;</span>)</div><div class="line">                <span class="keywordflow">return</span> order::descending;</div><div class="line">            <span class="keywordflow">throw</span> conversion_error_ex&lt;char&gt;(value);</div><div class="line">        }</div><div class="line">    };</div></div><!-- fragment --><p> And then the type should be configured</p>
<div class="fragment"><div class="line">    arg_parser.add_valued({ <span class="stringliteral">&quot;--order&quot;</span> })</div><div class="line">        .set_min_count(1)</div><div class="line">        .set_allowed_values({ <span class="stringliteral">&quot;asc&quot;</span>, <span class="stringliteral">&quot;desc&quot;</span> })</div><div class="line">        .set_default_value(<span class="stringliteral">&quot;asc&quot;</span>)</div><div class="line">        .set_type&lt;order&gt;()</div><div class="line">        .set_convert_function(order_converter());</div></div><!-- fragment --><p> Full code:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;octargs/octargs.hpp&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="keyword">using namespace </span><a class="code" href="namespaceoct_1_1args.html">oct::args</a>;</div><div class="line"></div><div class="line">    <span class="keyword">enum class</span> order</div><div class="line">    {</div><div class="line">        ascending,</div><div class="line">        descending</div><div class="line">    };</div><div class="line">    <span class="keyword">struct </span>order_converter</div><div class="line">    {</div><div class="line">        order operator()(<span class="keyword">const</span> std::string&amp; value)<span class="keyword"> const</span></div><div class="line"><span class="keyword">        </span>{</div><div class="line">            <span class="keywordflow">if</span> (value == <span class="stringliteral">&quot;asc&quot;</span>)</div><div class="line">                <span class="keywordflow">return</span> order::ascending;</div><div class="line">            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (value == <span class="stringliteral">&quot;desc&quot;</span>)</div><div class="line">                <span class="keywordflow">return</span> order::descending;</div><div class="line">            <span class="keywordflow">throw</span> <a class="code" href="classoct_1_1args_1_1conversion__error__ex.html">conversion_error_ex&lt;char&gt;</a>(value);</div><div class="line">        }</div><div class="line">    };</div><div class="line"></div><div class="line">    <a class="code" href="classoct_1_1args_1_1basic__parser.html">parser</a> arg_parser;</div><div class="line">    arg_parser.add_valued({ <span class="stringliteral">&quot;--order&quot;</span> })</div><div class="line">        .set_min_count(1)</div><div class="line">        .set_allowed_values({ <span class="stringliteral">&quot;asc&quot;</span>, <span class="stringliteral">&quot;desc&quot;</span> })</div><div class="line">        .set_default_value(<span class="stringliteral">&quot;asc&quot;</span>)</div><div class="line">        .set_type&lt;order&gt;()</div><div class="line">        .set_convert_function(order_converter());</div><div class="line">    arg_parser.add_positional(<span class="stringliteral">&quot;files&quot;</span>).set_max_count_unlimited();</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        <span class="keyword">auto</span> <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a> = arg_parser.parse(argc, argv);</div><div class="line"></div><div class="line">        <span class="keyword">auto</span> requested_order = <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a>.get_first_value(<span class="stringliteral">&quot;--order&quot;</span>);</div><div class="line">        <span class="keyword">auto</span> files = <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a>.get_values(<span class="stringliteral">&quot;files&quot;</span>);</div><div class="line"></div><div class="line">        <span class="comment">// TODO: application logic</span></div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception&amp; e)</div><div class="line">    {</div><div class="line">        std::cerr &lt;&lt; <span class="stringliteral">&quot;Error occurred: &quot;</span> &lt;&lt; e.what() &lt;&lt; std::endl;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="section_help_type_cast"></a>
Results - Get values with conversion</h1>
<p>The argument type could be set but the results set still returns them as strings. To make usage of library easier a methods were defined to get the values with conversion to requested type.</p>
<p>For standard primitive types the converters are provided by library, for custom types they could be given by the user. Please note that the built-in converters throw exceptions if the conversion could not be done, probably the same pattern should be followed by custom converters.</p>
<div class="fragment"><div class="line">        <span class="keyword">auto</span> requested_order = <a class="code" href="namespaceoct_1_1args.html#a95022bc18df1cf0eaeec710afd452580">results</a>.get_first_value_as&lt;order, order_converter&gt;(<span class="stringliteral">&quot;--order&quot;</span>);</div><div class="line">        <span class="keyword">auto</span> files = <a class="code" href="namespaceoct_1_1args.html#a95022bc18df1cf0eaeec710afd452580">results</a>.get_values_as&lt;std::string&gt;(<span class="stringliteral">&quot;files&quot;</span>);</div></div><!-- fragment --><p> Full code:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;octargs/octargs.hpp&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="keyword">using namespace </span><a class="code" href="namespaceoct_1_1args.html">oct::args</a>;</div><div class="line"></div><div class="line">    <span class="keyword">enum class</span> order</div><div class="line">    {</div><div class="line">        ascending,</div><div class="line">        descending</div><div class="line">    };</div><div class="line">    <span class="keyword">struct </span>order_converter</div><div class="line">    {</div><div class="line">        order operator()(<span class="keyword">const</span> std::string&amp; value)<span class="keyword"> const</span></div><div class="line"><span class="keyword">        </span>{</div><div class="line">            <span class="keywordflow">if</span> (value == <span class="stringliteral">&quot;asc&quot;</span>)</div><div class="line">                <span class="keywordflow">return</span> order::ascending;</div><div class="line">            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (value == <span class="stringliteral">&quot;desc&quot;</span>)</div><div class="line">                <span class="keywordflow">return</span> order::descending;</div><div class="line">            <span class="keywordflow">throw</span> <a class="code" href="classoct_1_1args_1_1conversion__error__ex.html">conversion_error_ex&lt;char&gt;</a>(value);</div><div class="line">        }</div><div class="line">    };</div><div class="line"></div><div class="line">    <a class="code" href="classoct_1_1args_1_1basic__parser.html">parser</a> arg_parser;</div><div class="line">    arg_parser.add_valued({ <span class="stringliteral">&quot;--order&quot;</span> })</div><div class="line">        .set_min_count(1)</div><div class="line">        .set_allowed_values({ <span class="stringliteral">&quot;asc&quot;</span>, <span class="stringliteral">&quot;desc&quot;</span> })</div><div class="line">        .set_default_value(<span class="stringliteral">&quot;asc&quot;</span>)</div><div class="line">        .set_type&lt;order&gt;()</div><div class="line">        .set_convert_function(order_converter());</div><div class="line">    arg_parser.add_positional(<span class="stringliteral">&quot;files&quot;</span>).set_max_count_unlimited();</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        <span class="keyword">auto</span> <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a> = arg_parser.parse(argc, argv);</div><div class="line"></div><div class="line">        <span class="keyword">auto</span> requested_order = <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a>.get_first_value_as&lt;order, order_converter&gt;(<span class="stringliteral">&quot;--order&quot;</span>);</div><div class="line">        <span class="keyword">auto</span> files = <a class="code" href="classoct_1_1args_1_1basic__results.html">results</a>.get_values_as&lt;std::string&gt;(<span class="stringliteral">&quot;files&quot;</span>);</div><div class="line"></div><div class="line">        <span class="comment">// TODO: application logic</span></div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception&amp; e)</div><div class="line">    {</div><div class="line">        std::cerr &lt;&lt; <span class="stringliteral">&quot;Error occurred: &quot;</span> &lt;&lt; e.what() &lt;&lt; std::endl;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
